(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{128:function(t,e,n){"use strict";var a={data:function(){return{open:!1}}},r=n(14),s=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tooltip",on:{click:function(e){t.open=!t.open}}},[t.open?n("div",{staticClass:"tooltip-body"},[t._t("default"),t._v(" "),n("button",{staticClass:"button-primary",attrs:{type:"button"}},[t._v("Got it")])],2):t._e()])},[],!1,null,null,null);s.options.__file="Tooltip.vue";e.a=s.exports},133:function(t,e,n){"use strict";n.r(e);n(35),n(70),n(36);var a=n(3),r=n.n(a),s=(n(71),n(129)),i=n(128),o=new RegExp("[0-9a-f]{128}");var u,c,l,p,d={data:function(){return{loading:!1,pendingTx:!1,amount:"0.02",enode:"",messages:[],accounts:[],active:null,networkID:"4",networkName:"Rinkeby"}},methods:{txURL:function(t){return"https://rinkeby.etherscan.io/tx/"+t},formatEther:s.utils.formatEther,load:(p=r()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.messages=[],this.loading=!0,t.next=4,this.loadStatus(this.getContract());case 4:return this.loading=!1,t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)})),function(){return p.apply(this,arguments)}),whitelist:(l=r()(regeneratorRuntime.mark(function t(){var e,n,a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.enode.match(o))&&1===e.length){t.next=3;break}return t.abrupt("return",this.error("Invalid enodeID: Should be 128 hex characters."));case 3:return n=e[0],a={account:this.active.account,authorizeNode:n,timestamp:+new Date},r=this.provider.getSigner(this.active.account),t.prev=6,t.next=9,r.signMessage(JSON.stringify(a));case 9:s=t.sent,console.log(s),t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(6),t.abrupt("return",this.error("Failed to sign message.",t.t0));case 16:case"end":return t.stop()}},t,this,[[6,13]])})),function(){return l.apply(this,arguments)}),requestWithdraw:function(){this.error("request withdraw: not implemented yet")},addBalance:(c=r()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.utils.parseUnits(this.amount,"ether"),n=this.getContract()){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,n.addBalance.sendTransaction({value:e});case 7:this.pendingTx=t.sent,t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(4),!t.t0.message||-1===t.t0.message.indexOf("User denied transaction signature.")){t.next=14;break}return t.abrupt("return",this.warning("Transaction aborted. Try again?"));case 14:return t.abrupt("return",this.error("Smart contract transaction failed.",t.t0));case 15:case"end":return t.stop()}},t,this,[[4,10]])})),function(){return c.apply(this,arguments)}),error:function(t,e){this.messages.push({body:t,kind:"error"}),void 0!==e&&console.error(e)},success:function(t){this.messages=[{body:t,kind:"success"}]},warning:function(t){this.messages.push({body:t,kind:"warning"})},info:function(t){this.messages.push({body:t,kind:"info"})},getContract:function(){if(this.contract)return this.contract;try{return this.contract=(t=this.provider,new s.Contract("0xb2f8987986259facdc539ac1745f7a0b395972b1",[{constant:!0,inputs:[],name:"withdrawInterval",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_client",type:"address"},{name:"_minBalance",type:"uint256"}],name:"checkBalance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"operator",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"clients",outputs:[{name:"balance",type:"uint256"},{name:"timeLocked",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"forceWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_client",type:"address"},{name:"_amount",type:"uint256"},{name:"_release",type:"bool"}],name:"opSettle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_amount",type:"uint256"}],name:"opWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"forceSettle",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"addBalance",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{inputs:[{name:"_operator",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"client",type:"address"},{indexed:!1,name:"timeLocked",type:"uint256"}],name:"ForceSettle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"client",type:"address"},{indexed:!1,name:"balance",type:"uint256"}],name:"Balance",type:"event"}],t)),this.contract}catch(t){return void this.error("Failed to load smart contract. Make sure you have a web3-enabled browser.",t)}var t},loadStatus:(u=r()(regeneratorRuntime.mark(function t(e){var n,a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(void 0!==web3){t.next=4;break}return t.abrupt("return",this.error("Please use a web3-enabled browser to execute this smart contract."));case 4:return t.next=6,this.provider.getNetwork();case 6:if(n=t.sent,String(n.chainId)===this.networkID){t.next=9;break}return t.abrupt("return",this.error("Please switch your wallet from "+n.name+" to "+this.networkName+"."));case 9:return t.next=11,this.provider.listAccounts();case 11:if(0!==(a=t.sent).length){t.next=14;break}return t.abrupt("return",this.error("Please unlock your wallet first."));case 14:return this.accounts=a,this.active={account:a[0],balance:0},t.prev=16,t.next=19,e.clients(this.active.account);case 19:r=t.sent,t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(16),t.abrupt("return",this.error("Failed to load client balance.",t.t0));case 25:this.active.balance=r[0],this.active.timelocked=r[1];case 27:case"end":return t.stop()}},t,this,[[16,22]])})),function(t){return u.apply(this,arguments)})},mounted:function(){this.load(),this.enode=this.$route.query.enode},computed:{provider:function(){return new s.providers.Web3Provider(web3.currentProvider)}},components:{Tooltip:i.a}},m=n(14),v=Object(m.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contract"},[n("h2",[t._v("\n    Balance to pool.vipnode.org\n    "),n("button",{staticClass:"button-primary",attrs:{disabled:t.loading},on:{click:t.load}},[t._v("Reload Account Status")])]),t._v(" "),t.messages.length>0?n("ul",{staticClass:"messages"},t._l(t.messages,function(e){return n("li",{class:e.kind},[t._v(t._s(e.body))])})):t._e(),t._v(" "),t.active?n("div",[n("p",[t._v("Network: "),n("strong",[t._v(t._s(t.networkName))])]),t._v(" "),n("p",[t._v("Account:\n      "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.active.account,expression:"active.account"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.active,"account",e.target.multiple?n:n[0])}}},t._l(t.accounts,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),t._v(" "),n("form",{staticClass:"row",on:{submit:[t.whitelist,function(t){t.preventDefault()}]}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.enode,expression:"enode"}],staticClass:"enode",attrs:{type:"text",value:"",placeholder:"enode://...",name:"enode"},domProps:{value:t.enode},on:{input:function(e){e.target.composing||(t.enode=e.target.value)}}}),t._v(" "),n("input",{attrs:{type:"submit",disabled:t.loading,value:"Add Node"}})]),t._v(" "),n("p"),n("div",{staticClass:"balance"},[t._v("Balance: "),n("span",{staticClass:"eth"},[t._v(t._s(t.formatEther(t.active.balance))+" ETH")])]),t._v(" "),t.active.balance>0?n("button",{staticStyle:{width:"172px"},attrs:{disabled:t.loading},on:{click:t.requestWithdraw}},[t._v("Request Withdraw")]):t._e(),t._v(" "),n("p"),t._v(" "),n("form",{staticClass:"row",on:{submit:[t.addBalance,function(t){t.preventDefault()}]}},[n("label",{staticClass:"eth"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"amount",attrs:{type:"text",value:"0.2",placeholder:"0.2",name:"amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}})]),t._v(" "),n("input",{attrs:{type:"submit",disabled:t.loading,value:"Add Balance"}})])]):t._e(),t._v(" "),t.pendingTx?n("div",{staticClass:"messages"},[n("p",{staticClass:"success"},[t._v("\n      Transaction submitted. It can take a few minutes. "),n("a",{attrs:{href:t.txURL(t.pendingTx),target:"_blank"}},[t._v("Watch it here.")])])]):t._e()])},[],!1,null,null,null);v.options.__file="ContractPool.vue";var h={components:{ContractPool:v.exports,Tooltip:i.a}},b=Object(m.a)(h,function(){var t=this.$createElement,e=this._self._c||t;return e("article",[e("p",[this._v("\n    This feature is experimental. Don't use any money you're not willing to donate.\n  ")]),this._v(" "),e("section",{attrs:{id:"get-started"}},[e("no-ssr",[e("ContractPool")],1)],1)])},[],!1,null,null,null);b.options.__file="pool.vue";e.default=b.exports}}]);